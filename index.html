<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>処方されたお薬の飲み方・使い方</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Japanese font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">

  <!-- html2pdf.js (for PDF) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <style>
    body { background-color: #f9f9f9; padding: 20px; font-family: 'Noto Sans JP', sans-serif; }
    .prescription-box { background: white; padding: 20px; border-radius: 10px; }
    .medication { border-bottom: 1px solid #ccc; margin-bottom: 20px; padding-bottom: 10px; }
    .medication-number { font-weight: bold; }
    .dose-line label { display: none; }
    .invalid-input { border-color: red !important; box-shadow: 0 0 5px red !important; }
    @media print { .no-print { display: none !important; } }
  </style>
</head>
<body>

<div class="container">
  <h2 class="text-center mb-4">処方されたお薬の飲み方・使い方</h2>

  <div class="prescription-box" id="prescription">
    <div id="medications"></div>
    <button class="btn btn-secondary btn-sm no-print mt-3" id="addMed">＋ 薬を追加</button>
  </div>

  <div class="text-center mt-4 no-print">
    <button class="btn btn-primary me-2" id="copyBtn">テキストをコピー</button>
    <button class="btn btn-success" id="printBtn">印刷</button>
    <button class="btn btn-danger ms-2" id="pdfBtn">PDF保存</button>
  </div>
</div>

<datalist id="medicineList">
  <option value="A to Z">A to Z</option>
  <option value="Abbott Brands">Abbott Brands</option>
  <option value="Abilify">Abilify</option>
  <option value="Accutane">Accutane</option>
  <option value="Acetazolamide">Acetazolamide</option>
  <option value="Aciloc">Aciloc</option>
  <option value="Acitrom">Acitrom</option>
  <option value="Aclidinium">Aclidinium</option>
  <option value="Acnederm">Acnederm</option>
  <option value="Actos">Actos</option>
  <option value="Actrapid">Actrapid</option>
  <option value="Acyclovir">Acyclovir</option>
  <option value="Adalimumab">Adalimumab</option>
  <option value="Adapalene">Adapalene</option>
  <option value="Adderall">Adderall</option>
  <option value="Adefovir">Adefovir</option>
  <option value="Adriamycin">Adriamycin</option>
  <option value="Afatinib">Afatinib</option>
  <option value="Afinitor">Afinitor</option>
  <option value="Aflibercept">Aflibercept</option>
  <option value="Albendazole">Albendazole</option>
  <option value="Aldactone">Aldactone</option>
  <option value="Alkem Brands">Alkem Brands</option>
  <option value="Allegra">Allegra</option>
  <option value="Allerzynix">Allerzynix</option>
  <option value="Allopurinol">Allopurinol</option>
  <option value="Almox">Almox</option>
  <option value="Alprazolam">Alprazolam</option>
  <option value="Althrocin">Althrocin</option>
  <option value="Amantadine">Amantadine</option>
  <option value="Amaryl">Amaryl</option>
  <option value="Ambien">Ambien</option>
  <option value="Amlip">Amlip</option>
  <option value="Amlodac">Amlodac</option>
  <option value="Amlong">Amlong</option>
  <option value="Amphotericin">Amphotericin</option>
  <option value="Analgesic combinations">Analgesic combinations</option>
  <option value="Anastrozole">Anastrozole</option>
  <option value="Anavar">Anavar</option>
  <option value="Andriol">Andriol</option>
  <option value="Andriol Testocaps">Andriol Testocaps</option>
  <option value="Androcur">Androcur</option>
  <option value="Androgel">Androgel</option>
  <option value="Anti Rabies Serum">Anti Rabies Serum</option>
  <option value="Anti-platelets">Anti-platelets</option>
  <option value="Antibneuol">Antibneuol</option>
  <option value="Antiemetics">Antiemetics</option>
  <option value="Antihelminthics">Antihelminthics</option>
  <option value="Antihistamines">Antihistamines</option>
  <option value="Antimalarials">Antimalarials</option>
  <option value="Antipsychotics">Antipsychotics</option>
  <option value="Antitussives">Antitussives</option>
  <option value="Apidra">Apidra</option>
  <option value="Apixaban">Apixaban</option>
  <option value="Apremilast">Apremilast</option>
  <option value="Aprepitant">Aprepitant</option>
  <option value="Aricept">Aricept</option>
  <option value="Arip">Arip</option>
  <option value="Aripiprazole">Aripiprazole</option>
  <option value="Arixtra">Arixtra</option>
  <option value="Armodafinil">Armodafinil</option>
  <option value="Aromasin">Aromasin</option>
  <option value="Artemether">Artemether</option>
  <option value="Artesunate">Artesunate</option>
  <option value="Ascoril">Ascoril</option>
  <option value="Asthalin">Asthalin</option>
  <option value="Atazanavir">Atazanavir</option>
  <option value="Atenolol">Atenolol</option>
  <option value="Ativan">Ativan</option>
  <option value="Atocor">Atocor</option>
  <option value="Atomoxetine">Atomoxetine</option>
  <option value="Atorfit">Atorfit</option>
  <option value="Atorlip">Atorlip</option>
  <option value="Atrovent">Atrovent</option>
  <option value="Augmentin">Augmentin</option>
  <option value="Augpen">Augpen</option>
  <option value="Avandia">Avandia</option>
  <option value="Avastin">Avastin</option>
  <option value="Aventis Brands">Aventis Brands</option>
  <option value="Avil">Avil</option>
  <option value="Avodart">Avodart</option>
  <option value="Azathioprine">Azathioprine</option>
  <option value="Azax">Azax</option>
  <option value="Azee">Azee</option>
  <option value="Azelex">Azelex</option>
  <option value="Azibact">Azibact</option>
  <option value="Azibact-L">Azibact-L</option>
  <option value="Azibest">Azibest</option>
  <option value="Azicip">Azicip</option>
  <option value="Aziklar">Aziklar</option>
  <option value="Azilect">Azilect</option>
  <option value="Azimax">Azimax</option>
  <option value="Azitec">Azitec</option>
  <option value="Azithral">Azithral</option>
  <option value="Aztor">Aztor</option>
  <option value="Aztor ASP">Aztor ASP</option>
  <option value="Azulfidine">Azulfidine</option>
  <option value="BCG">BCG</option>
  <option value="Baclofen">Baclofen</option>
  <option value="Bactrim">Bactrim</option>
  <option value="Bactroban">Bactroban</option>
  <option value="Baidyanath Brands">Baidyanath Brands</option>
  <option value="Balsalazide">Balsalazide</option>
  <option value="Baricitinib">Baricitinib</option>
  <option value="Basaglar">Basaglar</option>
  <option value="Basalog">Basalog</option>
  <option value="Bayer Animal Health">Bayer Animal Health</option>
  <option value="Bayer Brands">Bayer Brands</option>
  <option value="Becosules">Becosules</option>
  <option value="Benadryl">Benadryl</option>
  <option value="Benralizumab">Benralizumab</option>
  <option value="Benzac AC">Benzac AC</option>
  <option value="Benzhexol">Benzhexol</option>
  <option value="Benzonatate">Benzonatate</option>
  <option value="Betacard">Betacard</option>
  <option value="Betadine">Betadine</option>
  <option value="Betadine Antiseptic">Betadine Antiseptic</option>
  <option value="Betagan">Betagan</option>
  <option value="Betnovate">Betnovate</option>
  <option value="Betnovate C">Betnovate C</option>
  <option value="Betoptic">Betoptic</option>
  <option value="Bevacizumab">Bevacizumab</option>
  <option value="Biktarvy">Biktarvy</option>
  <option value="Bilastine">Bilastine</option>
  <option value="Bilaxten">Bilaxten</option>
  <option value="Biocaron">Biocaron</option>
  <option value="Bioinfol">Bioinfol</option>
  <option value="Biomax">Biomax</option>
  <option value="Biophaol">Biophaol</option>
  <option value="Biovitol">Biovitol</option>
  <option value="Bisacodyl">Bisacodyl</option>
  <option value="Biselect">Biselect</option>
  <option value="Bisoprolol">Bisoprolol</option>
  <option value="Bleomycin">Bleomycin</option>
  <option value="Boehringer Brands">Boehringer Brands</option>
  <option value="Boost">Boost</option>
  <option value="Bournvita">Bournvita</option>
  <option value="Breo">Breo</option>
  <option value="Brilinta">Brilinta</option>
  <option value="Brimonidine">Brimonidine</option>
  <option value="Brolucizumab">Brolucizumab</option>
  <option value="Bronchodilators">Bronchodilators</option>
  <option value="Brufen">Brufen</option>
  <option value="Budecort">Budecort</option>
  <option value="Budesonide">Budesonide</option>
  <option value="Buprenorphine">Buprenorphine</option>
  <option value="Bupropion">Bupropion</option>
  <option value="Cadila Brands">Cadila Brands</option>
  <option value="Caduet">Caduet</option>
  <option value="Calamine">Calamine</option>
  <option value="Calcimax">Calcimax</option>
  <option value="Calcineurin Inhibitor">Calcineurin Inhibitor</option>
  <option value="Calpol">Calpol</option>
  <option value="Calpol Advance">Calpol Advance</option>
  <option value="Canagliflozin">Canagliflozin</option>
  <option value="Candid">Candid</option>
  <option value="Canesten">Canesten</option>
  <option value="Carafate">Carafate</option>
  <option value="Carbamazepine">Carbamazepine</option>
  <option value="Carbidopa">Carbidopa</option>
  <option value="Carbimazole">Carbimazole</option>
  <option value="Carboplatin">Carboplatin</option>
  <option value="Cardace">Cardace</option>
  <option value="Cardiocliix">Cardiocliix</option>
  <option value="Cardioheaon">Cardioheaon</option>
  <option value="Cardiomyool">Cardiomyool</option>
  <option value="Cardioneo">Cardioneo</option>
  <option value="Cardiovirol">Cardiovirol</option>
  <option value="Cardiowela">Cardiowela</option>
  <option value="Carecliix">Carecliix</option>
  <option value="Caregluon">Caregluon</option>
  <option value="Careneoex">Careneoex</option>
  <option value="Carevitast">Carevitast</option>
  <option value="Carvedilol">Carvedilol</option>
  <option value="Caspofungin">Caspofungin</option>
  <option value="Cefaclor">Cefaclor</option>
  <option value="Cefadroxil">Cefadroxil</option>
  <option value="Cefdinir">Cefdinir</option>
  <option value="Cefepime">Cefepime</option>
  <option value="Cefixime">Cefixime</option>
  <option value="Cefoperazone">Cefoperazone</option>
  <option value="Cefotaxime">Cefotaxime</option>
  <option value="Cefspan">Cefspan</option>
  <option value="Ceftriaxone">Ceftriaxone</option>
  <option value="Ceftum">Ceftum</option>
  <option value="Cefuroxime">Cefuroxime</option>
  <option value="Celin">Celin</option>
  <option value="CellCept">CellCept</option>
  <option value="Centchroman">Centchroman</option>
  <option value="Centrum">Centrum</option>
  <option value="Cervarix">Cervarix</option>
  <option value="Cetaphil">Cetaphil</option>
  <option value="Cetapin">Cetapin</option>
  <option value="Cetomacrogol Cream">Cetomacrogol Cream</option>
  <option value="Cetrizine">Cetrizine</option>
  <option value="Cetuximab">Cetuximab</option>
  <option value="Cetzine">Cetzine</option>
  <option value="Cetzine M">Cetzine M</option>
  <option value="Champix">Champix</option>
  <option value="Chericof">Chericof</option>
  <option value="Chloramphenicol">Chloramphenicol</option>
  <option value="Chloroquine">Chloroquine</option>
  <option value="Chlorpromazine">Chlorpromazine</option>
  <option value="Chlortrimeton">Chlortrimeton</option>
  <option value="Cifran">Cifran</option>
  <option value="Cipla Brands">Cipla Brands</option>
  <option value="Ciplox">Ciplox</option>
  <option value="Ciplox Eye">Ciplox Eye</option>
  <option value="Ciprobid">Ciprobid</option>
  <option value="Ciprofloxacin Eye Drops">Ciprofloxacin Eye Drops</option>
  <option value="Cisplatin">Cisplatin</option>
  <option value="Clarinex">Clarinex</option>
  <option value="Clarithro">Clarithro</option>
  <option value="Clavam">Clavam</option>
  <option value="Clavam Dry">Clavam Dry</option>
  <option value="Clexane">Clexane</option>
  <option value="Climara">Climara</option>
  <option value="Clinbioin">Clinbioin</option>
  <option value="Clindac">Clindac</option>
  <option value="Clindamycin">Clindamycin</option>
  <option value="Clinlifon">Clinlifon</option>
  <option value="Clinmedo">Clinmedo</option>
  <option value="Clinneuon">Clinneuon</option>
  <option value="Clinophix">Clinophix</option>
  <option value="Clinphaa">Clinphaa</option>
  <option value="Clinphaast">Clinphaast</option>
  <option value="Clinwela">Clinwela</option>
  <option value="Clobazam">Clobazam</option>
  <option value="Clobetasol Propionate">Clobetasol Propionate</option>
  <option value="Clobex">Clobex</option>
  <option value="Clomid">Clomid</option>
  <option value="Clonazepam">Clonazepam</option>
  <option value="Clopid">Clopid</option>
  <option value="Clopidogrel">Clopidogrel</option>
  <option value="Clopilet">Clopilet</option>
  <option value="Clopitab">Clopitab</option>
  <option value="Clopivas">Clopivas</option>
  <option value="Clopivas AP">Clopivas AP</option>
  <option value="Clotrim">Clotrim</option>
  <option value="Clotrimazole">Clotrimazole</option>
  <option value="Cloxacillin">Cloxacillin</option>
  <option value="Clozapine">Clozapine</option>
  <option value="Clozaril">Clozaril</option>
  <option value="Codeine">Codeine</option>
  <option value="Colchicine">Colchicine</option>
  <option value="Colistin">Colistin</option>
  <option value="Combiflam">Combiflam</option>
  <option value="Combivent">Combivent</option>
  <option value="Concor">Concor</option>
  <option value="Corex">Corex</option>
  <option value="Cresar">Cresar</option>
  <option value="Crestor">Crestor</option>
  <option value="Crizotinib">Crizotinib</option>
  <option value="Crocin">Crocin</option>
  <option value="CuT">CuT</option>
  <option value="Curederol">Curederol</option>
  <option value="Curelif">Curelif</option>
  <option value="Curelipo">Curelipo</option>
  <option value="Curemaxa">Curemaxa</option>
  <option value="Cureoph">Cureoph</option>
  <option value="Curevitol">Curevitol</option>
  <option value="Cyclobenzaprine">Cyclobenzaprine</option>
  <option value="Cyclophosphamide">Cyclophosphamide</option>
  <option value="Cyproterone">Cyproterone</option>
  <option value="DT">DT</option>
  <option value="DTP">DTP</option>
  <option value="DTwP">DTwP</option>
  <option value="Dabur Brands">Dabur Brands</option>
  <option value="Dapagliflozin">Dapagliflozin</option>
  <option value="Darunavir">Darunavir</option>
  <option value="Dasatinib">Dasatinib</option>
  <option value="Deca-Durabolin">Deca-Durabolin</option>
  <option value="Depakine">Depakine</option>
  <option value="Depakote">Depakote</option>
  <option value="Dermajuice">Dermajuice</option>
  <option value="Dermphaol">Dermphaol</option>
  <option value="Dermplu">Dermplu</option>
  <option value="Desogestrel">Desogestrel</option>
  <option value="Dettol">Dettol</option>
  <option value="Dexamphetamine">Dexamphetamine</option>
  <option value="Dexilant">Dexilant</option>
  <option value="Dexorange">Dexorange</option>
  <option value="Dextromethorphan">Dextromethorphan</option>
  <option value="Diamox">Diamox</option>
  <option value="Diazepam">Diazepam</option>
  <option value="Diclomol">Diclomol</option>
  <option value="Differin">Differin</option>
  <option value="Diflucan">Diflucan</option>
  <option value="Digene">Digene</option>
  <option value="Dilantin">Dilantin</option>
  <option value="Dilzem">Dilzem</option>
  <option value="Docetaxel">Docetaxel</option>
  <option value="Dolo-650">Dolo-650</option>
  <option value="Dolokind">Dolokind</option>
  <option value="Dolokind MR">Dolokind MR</option>
  <option value="Dolopar">Dolopar</option>
  <option value="Dolutegravir">Dolutegravir</option>
  <option value="Domperidone">Domperidone</option>
  <option value="Domstal">Domstal</option>
  <option value="Donepezil">Donepezil</option>
  <option value="Dopamine Agonist">Dopamine Agonist</option>
  <option value="Dorzolamide">Dorzolamide</option>
  <option value="Doxorubicin">Doxorubicin</option>
  <option value="Doxycycline">Doxycycline</option>
  <option value="Dr Reddy's Brands">Dr Reddy's Brands</option>
  <option value="Dr Willmar Schwabe">Dr Willmar Schwabe</option>
  <option value="Drospirenone">Drospirenone</option>
  <option value="Drysol">Drysol</option>
  <option value="Dulcolax">Dulcolax</option>
  <option value="Duolin">Duolin</option>
  <option value="Duphalac">Duphalac</option>
  <option value="Dupilumab">Dupilumab</option>
  <option value="Dupixent">Dupixent</option>
  <option value="Duricef">Duricef</option>
  <option value="Dutasteride">Dutasteride</option>
  <option value="Ecosprin">Ecosprin</option>
  <option value="Ecosprin AV">Ecosprin AV</option>
  <option value="Edaravone">Edaravone</option>
  <option value="Edoxaban">Edoxaban</option>
  <option value="Efavirenz">Efavirenz</option>
  <option value="Effient">Effient</option>
  <option value="Eli Lilly Brands">Eli Lilly Brands</option>
  <option value="Elidel">Elidel</option>
  <option value="Eliquis">Eliquis</option>
  <option value="Elocon">Elocon</option>
  <option value="Elovera">Elovera</option>
  <option value="Eltroxin">Eltroxin</option>
  <option value="Emergency Contraceptive">Emergency Contraceptive</option>
  <option value="Emeset">Emeset</option>
  <option value="Empagliflozin">Empagliflozin</option>
  <option value="Enbrel">Enbrel</option>
  <option value="Ensure">Ensure</option>
  <option value="Entacapone">Entacapone</option>
  <option value="Entacavir">Entacavir</option>
  <option value="Entecavir">Entecavir</option>
  <option value="Entresto">Entresto</option>
  <option value="Entresto Brands">Entresto Brands</option>
  <option value="Epclusa">Epclusa</option>
  <option value="Epilim">Epilim</option>
  <option value="Erlotinib">Erlotinib</option>
  <option value="Ertapenem">Ertapenem</option>
  <option value="Ertugliflozin">Ertugliflozin</option>
  <option value="Erythrocin">Erythrocin</option>
  <option value="Esomac">Esomac</option>
  <option value="Esomac D">Esomac D</option>
  <option value="Esose">Esose</option>
  <option value="Estrace">Estrace</option>
  <option value="Estradiol">Estradiol</option>
  <option value="Estriol">Estriol</option>
  <option value="Eszopiclone">Eszopiclone</option>
  <option value="Etanercept">Etanercept</option>
  <option value="Ethinylestradiol">Ethinylestradiol</option>
  <option value="Etizola">Etizola</option>
  <option value="Etoposide">Etoposide</option>
  <option value="Etoricoxib">Etoricoxib</option>
  <option value="Etoshine">Etoshine</option>
  <option value="Etoshine MR">Etoshine MR</option>
  <option value="Everolimus">Everolimus</option>
  <option value="Evion">Evion</option>
  <option value="Evista">Evista</option>
  <option value="Evorel">Evorel</option>
  <option value="Evotaz">Evotaz</option>
  <option value="Exelon">Exelon</option>
  <option value="Exemestane">Exemestane</option>
  <option value="Eylea">Eylea</option>
  <option value="Famciclovir">Famciclovir</option>
  <option value="Famocid">Famocid</option>
  <option value="Famotidine">Famotidine</option>
  <option value="Fansidar">Fansidar</option>
  <option value="Fasenra">Fasenra</option>
  <option value="Favipiravir">Favipiravir</option>
  <option value="Febrex">Febrex</option>
  <option value="Febuxostat">Febuxostat</option>
  <option value="Femara">Femara</option>
  <option value="Fentanyl">Fentanyl</option>
  <option value="Fexofenadine">Fexofenadine</option>
  <option value="Fexova">Fexova</option>
  <option value="Fiberlax">Fiberlax</option>
  <option value="Finax">Finax</option>
  <option value="Fincar">Fincar</option>
  <option value="Finpecia">Finpecia</option>
  <option value="Flagyl">Flagyl</option>
  <option value="Flexeril">Flexeril</option>
  <option value="Flexura">Flexura</option>
  <option value="Flu Vaccine">Flu Vaccine</option>
  <option value="Fluconazole">Fluconazole</option>
  <option value="Fluphenazine">Fluphenazine</option>
  <option value="Flur Eye">Flur Eye</option>
  <option value="Flurbiprofen Eye Drops">Flurbiprofen Eye Drops</option>
  <option value="Folvite">Folvite</option>
  <option value="Fondaparinux">Fondaparinux</option>
  <option value="Foracort">Foracort</option>
  <option value="Foradil">Foradil</option>
  <option value="Formoterol">Formoterol</option>
  <option value="Forxiga">Forxiga</option>
  <option value="Fucidin">Fucidin</option>
  <option value="GNC Brands">GNC Brands</option>
  <option value="GSK Brands">GSK Brands</option>
  <option value="Galantamine">Galantamine</option>
  <option value="Galvus">Galvus</option>
  <option value="Gardasil">Gardasil</option>
  <option value="Gastromycon">Gastromycon</option>
  <option value="Gastropeda">Gastropeda</option>
  <option value="Gastrophaol">Gastrophaol</option>
  <option value="Gastroprotectants">Gastroprotectants</option>
  <option value="Gastrorexin">Gastrorexin</option>
  <option value="Gatifloxacin Eye Drops">Gatifloxacin Eye Drops</option>
  <option value="Gaviscon">Gaviscon</option>
  <option value="Gefitinib">Gefitinib</option>
  <option value="Gelusil">Gelusil</option>
  <option value="Gemcitabine">Gemcitabine</option>
  <option value="Genvoya">Genvoya</option>
  <option value="Gleevec">Gleevec</option>
  <option value="Glenmark Brands">Glenmark Brands</option>
  <option value="Gliclazide">Gliclazide</option>
  <option value="Glimepiride">Glimepiride</option>
  <option value="Glimiperide">Glimiperide</option>
  <option value="Glipizide">Glipizide</option>
  <option value="Glucerna">Glucerna</option>
  <option value="Glucocarin">Glucocarin</option>
  <option value="Glucocarol">Glucocarol</option>
  <option value="Gluconeoo">Gluconeoo</option>
  <option value="Gluconorm">Gluconorm</option>
  <option value="Glucophaast">Glucophaast</option>
  <option value="Glucophage">Glucophage</option>
  <option value="Glucoproa">Glucoproa</option>
  <option value="Glucoresex">Glucoresex</option>
  <option value="Glucozynix">Glucozynix</option>
  <option value="Glyciphage">Glyciphage</option>
  <option value="Glycolic Acid">Glycolic Acid</option>
  <option value="Glycomet">Glycomet</option>
  <option value="Glycopyrronium">Glycopyrronium</option>
  <option value="Glynase">Glynase</option>
  <option value="Glypride">Glypride</option>
  <option value="Grilinctus">Grilinctus</option>
  <option value="HBsAg Vaccine">HBsAg Vaccine</option>
  <option value="HPV Vaccine">HPV Vaccine</option>
  <option value="HRT Patches">HRT Patches</option>
  <option value="Hairgain">Hairgain</option>
  <option value="Haloperidol">Haloperidol</option>
  <option value="Harvoni">Harvoni</option>
  <option value="Healanto">Healanto</option>
  <option value="Healcarast">Healcarast</option>
  <option value="Healcliast">Healcliast</option>
  <option value="Healderon">Healderon</option>
  <option value="Healgluo">Healgluo</option>
  <option value="Healmaxol">Healmaxol</option>
  <option value="Healoph">Healoph</option>
  <option value="Healotoa">Healotoa</option>
  <option value="HealthKart">HealthKart</option>
  <option value="Healviro">Healviro</option>
  <option value="Healvirol">Healvirol</option>
  <option value="Healwelol">Healwelol</option>
  <option value="HepA">HepA</option>
  <option value="HepB">HepB</option>
  <option value="Heparin">Heparin</option>
  <option value="Hepatitis A Vaccine">Hepatitis A Vaccine</option>
  <option value="Hepatitis B Vaccine">Hepatitis B Vaccine</option>
  <option value="Hepcinat">Hepcinat</option>
  <option value="Herbal Supplements">Herbal Supplements</option>
  <option value="Herceptin">Herceptin</option>
  <option value="Hifenac">Hifenac</option>
  <option value="Himalaya Brands">Himalaya Brands</option>
  <option value="Histac">Histac</option>
  <option value="Homeopathy Brands">Homeopathy Brands</option>
  <option value="Horlicks">Horlicks</option>
  <option value="Humalog">Humalog</option>
  <option value="Huminsulin">Huminsulin</option>
  <option value="Humira">Humira</option>
  <option value="Hydrocortisone Cream">Hydrocortisone Cream</option>
  <option value="Hydroquinone">Hydroquinone</option>
  <option value="Hydroxychloroquine">Hydroxychloroquine</option>
  <option value="Hyzaar">Hyzaar</option>
  <option value="I-pill">I-pill</option>
  <option value="IPV">IPV</option>
  <option value="IUDs">IUDs</option>
  <option value="Ibugesic">Ibugesic</option>
  <option value="Imatinib">Imatinib</option>
  <option value="Imipenem">Imipenem</option>
  <option value="Imodium">Imodium</option>
  <option value="Imuran">Imuran</option>
  <option value="Incruse">Incruse</option>
  <option value="Inderal">Inderal</option>
  <option value="Infexcurex">Infexcurex</option>
  <option value="Infexpedol">Infexpedol</option>
  <option value="Infliximab">Infliximab</option>
  <option value="Influenza Vaccine">Influenza Vaccine</option>
  <option value="Insugen">Insugen</option>
  <option value="Invokana">Invokana</option>
  <option value="Ipratropium">Ipratropium</option>
  <option value="Irinotecan">Irinotecan</option>
  <option value="Isabgol">Isabgol</option>
  <option value="Isentress">Isentress</option>
  <option value="Isoconazole">Isoconazole</option>
  <option value="Isopure">Isopure</option>
  <option value="Isosorbide">Isosorbide</option>
  <option value="Isotretinoin">Isotretinoin</option>
  <option value="Isotrex">Isotrex</option>
  <option value="Istamet">Istamet</option>
  <option value="Itopride">Itopride</option>
  <option value="Itraconazole">Itraconazole</option>
  <option value="Janssen Brands">Janssen Brands</option>
  <option value="Janumet">Janumet</option>
  <option value="Januvia">Januvia</option>
  <option value="Jardiance">Jardiance</option>
  <option value="Kaletra">Kaletra</option>
  <option value="Kefpod">Kefpod</option>
  <option value="Kenacort">Kenacort</option>
  <option value="Keppra">Keppra</option>
  <option value="Ketanov">Ketanov</option>
  <option value="Ketoconazole">Ketoconazole</option>
  <option value="Ketoconazole Shampoo">Ketoconazole Shampoo</option>
  <option value="Ketorol">Ketorol</option>
  <option value="Keytruda">Keytruda</option>
  <option value="Kirkland Minoxidil">Kirkland Minoxidil</option>
  <option value="Kirkland Signature">Kirkland Signature</option>
  <option value="Klonopin">Klonopin</option>
  <option value="Kojic">Kojic</option>
  <option value="Lactogen">Lactogen</option>
  <option value="Lactulose">Lactulose</option>
  <option value="Lamictal">Lamictal</option>
  <option value="Lamisil">Lamisil</option>
  <option value="Lamisil Cream">Lamisil Cream</option>
  <option value="Lamivudine">Lamivudine</option>
  <option value="Lamosyn">Lamosyn</option>
  <option value="Lamotrigine">Lamotrigine</option>
  <option value="Lansop">Lansop</option>
  <option value="Lantus">Lantus</option>
  <option value="Latanoprost">Latanoprost</option>
  <option value="Ledipasvir">Ledipasvir</option>
  <option value="Leflunomide">Leflunomide</option>
  <option value="Letrozole">Letrozole</option>
  <option value="Levamisole">Levamisole</option>
  <option value="Levaquin">Levaquin</option>
  <option value="Levemir">Levemir</option>
  <option value="Levetiracetam">Levetiracetam</option>
  <option value="Levocet">Levocet</option>
  <option value="Levocet D">Levocet D</option>
  <option value="Levocetirizine">Levocetirizine</option>
  <option value="Levodopa">Levodopa</option>
  <option value="Levoflox">Levoflox</option>
  <option value="Levofloxacin Eye Drops">Levofloxacin Eye Drops</option>
  <option value="Levolin">Levolin</option>
  <option value="Levonorgestrel">Levonorgestrel</option>
  <option value="Levosulpiride">Levosulpiride</option>
  <option value="Lifegasex">Lifegasex</option>
  <option value="Lifemedol">Lifemedol</option>
  <option value="Lifeproix">Lifeproix</option>
  <option value="Limcee">Limcee</option>
  <option value="Linagliptin">Linagliptin</option>
  <option value="Linezolid">Linezolid</option>
  <option value="Lipicard">Lipicard</option>
  <option value="Lipicure">Lipicure</option>
  <option value="Lipitor">Lipitor</option>
  <option value="Lipobioa">Lipobioa</option>
  <option value="Lipocli">Lipocli</option>
  <option value="Lipoderin">Lipoderin</option>
  <option value="Liponorm">Liponorm</option>
  <option value="Lisdexamfetamine">Lisdexamfetamine</option>
  <option value="Lisinopril">Lisinopril</option>
  <option value="Livogen">Livogen</option>
  <option value="Loette">Loette</option>
  <option value="Lonazep">Lonazep</option>
  <option value="Loperamide">Loperamide</option>
  <option value="Lopinavir">Lopinavir</option>
  <option value="Lopressor">Lopressor</option>
  <option value="Loratadine">Loratadine</option>
  <option value="Lorazepam">Lorazepam</option>
  <option value="Lornoxicam">Lornoxicam</option>
  <option value="Losar">Losar</option>
  <option value="Lotrimin">Lotrimin</option>
  <option value="Lovenox">Lovenox</option>
  <option value="Lucentis">Lucentis</option>
  <option value="Lumigan">Lumigan</option>
  <option value="Lunesta">Lunesta</option>
  <option value="Lupin Brands">Lupin Brands</option>
  <option value="Lupitor">Lupitor</option>
  <option value="MMR">MMR</option>
  <option value="MSD Brands">MSD Brands</option>
  <option value="Maalox">Maalox</option>
  <option value="Macrobid">Macrobid</option>
  <option value="Macrodantin">Macrodantin</option>
  <option value="Macrogol">Macrogol</option>
  <option value="Macrox">Macrox</option>
  <option value="Madopar">Madopar</option>
  <option value="Mala-D">Mala-D</option>
  <option value="Mankind Brands">Mankind Brands</option>
  <option value="Maxgluol">Maxgluol</option>
  <option value="Maxlifon">Maxlifon</option>
  <option value="Maxlipol">Maxlipol</option>
  <option value="Maxpedin">Maxpedin</option>
  <option value="Maxphain">Maxphain</option>
  <option value="Maxvirin">Maxvirin</option>
  <option value="Measles Vaccine">Measles Vaccine</option>
  <option value="Mebendazole">Mebendazole</option>
  <option value="Mediinfast">Mediinfast</option>
  <option value="Mediinfol">Mediinfol</option>
  <option value="Medilipex">Medilipex</option>
  <option value="Medimedast">Medimedast</option>
  <option value="Medipedon">Medipedon</option>
  <option value="Mediprool">Mediprool</option>
  <option value="Mediresast">Mediresast</option>
  <option value="Mediresol">Mediresol</option>
  <option value="Mediwelast">Mediwelast</option>
  <option value="Medizynon">Medizynon</option>
  <option value="Mefloquine">Mefloquine</option>
  <option value="Meftal">Meftal</option>
  <option value="Melacare">Melacare</option>
  <option value="Melalite">Melalite</option>
  <option value="Memantine">Memantine</option>
  <option value="Mepolizumab">Mepolizumab</option>
  <option value="Merck Brands">Merck Brands</option>
  <option value="Meropenem">Meropenem</option>
  <option value="Mesacol">Mesacol</option>
  <option value="Metacin">Metacin</option>
  <option value="Metformin">Metformin</option>
  <option value="Methadone">Methadone</option>
  <option value="Methotrexate">Methotrexate</option>
  <option value="Methylphenidate">Methylphenidate</option>
  <option value="Metoclopramide">Metoclopramide</option>
  <option value="Metolar">Metolar</option>
  <option value="Metpure">Metpure</option>
  <option value="Metrogyl">Metrogyl</option>
  <option value="Metzok">Metzok</option>
  <option value="Micafungin">Micafungin</option>
  <option value="Micardis">Micardis</option>
  <option value="Micardis Plus">Micardis Plus</option>
  <option value="Miconazole">Miconazole</option>
  <option value="Midazolam">Midazolam</option>
  <option value="Minocycline">Minocycline</option>
  <option value="Minoxidil">Minoxidil</option>
  <option value="Mintop">Mintop</option>
  <option value="Mirapexin">Mirapexin</option>
  <option value="Mirena">Mirena</option>
  <option value="Misoprostol">Misoprostol</option>
  <option value="Misoprostol Brands">Misoprostol Brands</option>
  <option value="Mixtard">Mixtard</option>
  <option value="Modafinil">Modafinil</option>
  <option value="Moisturizer">Moisturizer</option>
  <option value="Molnupiravir">Molnupiravir</option>
  <option value="Mometasone">Mometasone</option>
  <option value="Monotrate">Monotrate</option>
  <option value="Montair">Montair</option>
  <option value="Montek">Montek</option>
  <option value="Montelukast Brands">Montelukast Brands</option>
  <option value="Morphine">Morphine</option>
  <option value="Mosapride">Mosapride</option>
  <option value="Movex">Movex</option>
  <option value="Movicol">Movicol</option>
  <option value="Moxicip">Moxicip</option>
  <option value="Moxicip Eye">Moxicip Eye</option>
  <option value="Moxifloxacin Eye">Moxifloxacin Eye</option>
  <option value="Moxikind">Moxikind</option>
  <option value="Mucaine">Mucaine</option>
  <option value="Multivitamin">Multivitamin</option>
  <option value="Mupimet">Mupimet</option>
  <option value="MuscleBlaze">MuscleBlaze</option>
  <option value="Muscoril">Muscoril</option>
  <option value="Mycomed">Mycomed</option>
  <option value="Mycomycast">Mycomycast</option>
  <option value="Myconovast">Myconovast</option>
  <option value="Mycoophin">Mycoophin</option>
  <option value="Mycootool">Mycootool</option>
  <option value="Mycophenolate">Mycophenolate</option>
  <option value="Mylanta">Mylanta</option>
  <option value="Myomaxast">Myomaxast</option>
  <option value="Myomaxol">Myomaxol</option>
  <option value="Myophao">Myophao</option>
  <option value="Myoril">Myoril</option>
  <option value="Myospaz">Myospaz</option>
  <option value="Myprotein">Myprotein</option>
  <option value="Namenda">Namenda</option>
  <option value="Nan Pro">Nan Pro</option>
  <option value="Nandrolone">Nandrolone</option>
  <option value="Naprosyn">Naprosyn</option>
  <option value="Natamycin">Natamycin</option>
  <option value="Nature Made">Nature Made</option>
  <option value="Nature's Bounty">Nature's Bounty</option>
  <option value="Nebicard">Nebicard</option>
  <option value="Nebido">Nebido</option>
  <option value="Nebistar">Nebistar</option>
  <option value="Neksium">Neksium</option>
  <option value="Neocurol">Neocurol</option>
  <option value="Neogasin">Neogasin</option>
  <option value="Neogluex">Neogluex</option>
  <option value="Neomercazole">Neomercazole</option>
  <option value="Neonov">Neonov</option>
  <option value="Neosporin">Neosporin</option>
  <option value="Neprilysin Inhibitors">Neprilysin Inhibitors</option>
  <option value="Neurobio">Neurobio</option>
  <option value="Neurobion">Neurobion</option>
  <option value="Neurogasix">Neurogasix</option>
  <option value="Neurolipa">Neurolipa</option>
  <option value="Neuronovix">Neuronovix</option>
  <option value="Neuronovol">Neuronovol</option>
  <option value="Neurootoon">Neurootoon</option>
  <option value="Neuropedin">Neuropedin</option>
  <option value="Nevirapine">Nevirapine</option>
  <option value="Nexito">Nexito</option>
  <option value="Nexium">Nexium</option>
  <option value="Nexmaxix">Nexmaxix</option>
  <option value="Nexpro">Nexpro</option>
  <option value="Nextheex">Nextheex</option>
  <option value="Niclosamide">Niclosamide</option>
  <option value="Nicorette">Nicorette</option>
  <option value="Nicotinell">Nicotinell</option>
  <option value="Nicoumalone">Nicoumalone</option>
  <option value="Nilotinib">Nilotinib</option>
  <option value="Nimulid">Nimulid</option>
  <option value="Nise">Nise</option>
  <option value="Nitrofurantoin">Nitrofurantoin</option>
  <option value="Nitrostat">Nitrostat</option>
  <option value="Nizoral">Nizoral</option>
  <option value="Nolvadex">Nolvadex</option>
  <option value="Norilet">Norilet</option>
  <option value="Novaclox">Novaclox</option>
  <option value="Novacurol">Novacurol</option>
  <option value="Novaderol">Novaderol</option>
  <option value="Novamaxix">Novamaxix</option>
  <option value="Novamycin">Novamycin</option>
  <option value="Novanexix">Novanexix</option>
  <option value="Novanovon">Novanovon</option>
  <option value="Novaotoin">Novaotoin</option>
  <option value="Novareson">Novareson</option>
  <option value="Novartis Brands">Novartis Brands</option>
  <option value="Novathea">Novathea</option>
  <option value="NovoMix 30">NovoMix 30</option>
  <option value="Novomix">Novomix</option>
  <option value="Novorapid">Novorapid</option>
  <option value="Nucala">Nucala</option>
  <option value="Nucoxia">Nucoxia</option>
  <option value="Nuedex">Nuedex</option>
  <option value="Nuedexta">Nuedexta</option>
  <option value="Nuvigil">Nuvigil</option>
  <option value="OPV">OPV</option>
  <option value="ORS Dabur">ORS Dabur</option>
  <option value="ORS Electral">ORS Electral</option>
  <option value="ORS Enerzal">ORS Enerzal</option>
  <option value="ORS Glucose D">ORS Glucose D</option>
  <option value="ORS Hydralyte">ORS Hydralyte</option>
  <option value="Obimet">Obimet</option>
  <option value="Ocid">Ocid</option>
  <option value="Oflox">Oflox</option>
  <option value="Ofloxacin Eye Drops">Ofloxacin Eye Drops</option>
  <option value="Ofloxin">Ofloxin</option>
  <option value="Okacet">Okacet</option>
  <option value="Okacet L">Okacet L</option>
  <option value="Olanzapine">Olanzapine</option>
  <option value="Olanzia">Olanzia</option>
  <option value="Olmesar">Olmesar</option>
  <option value="Olumiant">Olumiant</option>
  <option value="Omalizumab">Omalizumab</option>
  <option value="Omez">Omez</option>
  <option value="Omez D">Omez D</option>
  <option value="Oncology Generics">Oncology Generics</option>
  <option value="Ondem">Ondem</option>
  <option value="One A Day">One A Day</option>
  <option value="Onfi">Onfi</option>
  <option value="Onglyza">Onglyza</option>
  <option value="Opdivo">Opdivo</option>
  <option value="Ophthbioa">Ophthbioa</option>
  <option value="Ophthcliast">Ophthcliast</option>
  <option value="Ophthneool">Ophthneool</option>
  <option value="Ophthneuon">Ophthneuon</option>
  <option value="Ophthnovo">Ophthnovo</option>
  <option value="Ophthoto">Ophthoto</option>
  <option value="Ophthpeda">Ophthpeda</option>
  <option value="Ophthproix">Ophthproix</option>
  <option value="Ophththeol">Ophththeol</option>
  <option value="Ophthvita">Ophthvita</option>
  <option value="Opioids">Opioids</option>
  <option value="Optimum Nutrition">Optimum Nutrition</option>
  <option value="Oral Contraceptives">Oral Contraceptives</option>
  <option value="Orofer">Orofer</option>
  <option value="Oseltamivir">Oseltamivir</option>
  <option value="Osimertinib">Osimertinib</option>
  <option value="Osteocalcium">Osteocalcium</option>
  <option value="Otezla">Otezla</option>
  <option value="Otocurin">Otocurin</option>
  <option value="Otolifast">Otolifast</option>
  <option value="Otomedol">Otomedol</option>
  <option value="Otomyca">Otomyca</option>
  <option value="Otomycol">Otomycol</option>
  <option value="Otomyo">Otomyo</option>
  <option value="Otomyoix">Otomyoix</option>
  <option value="Otoneuol">Otoneuol</option>
  <option value="Otonexo">Otonexo</option>
  <option value="Otooto">Otooto</option>
  <option value="Otophaon">Otophaon</option>
  <option value="Otorexa">Otorexa</option>
  <option value="Ototheex">Ototheex</option>
  <option value="Otozyno">Otozyno</option>
  <option value="Ovral">Ovral</option>
  <option value="Oxaliplatin">Oxaliplatin</option>
  <option value="Oxandrolone">Oxandrolone</option>
  <option value="Oxcarbazepine">Oxcarbazepine</option>
  <option value="Oxetol">Oxetol</option>
  <option value="Oxycodone">Oxycodone</option>
  <option value="PTU">PTU</option>
  <option value="Pacimol">Pacimol</option>
  <option value="Pacimol Active">Pacimol Active</option>
  <option value="Paclitaxel">Paclitaxel</option>
  <option value="Palonosetron">Palonosetron</option>
  <option value="Pan">Pan</option>
  <option value="Panadol">Panadol</option>
  <option value="Pansec">Pansec</option>
  <option value="Pantadoc">Pantadoc</option>
  <option value="Pantocid">Pantocid</option>
  <option value="Pantodac">Pantodac</option>
  <option value="Pantop">Pantop</option>
  <option value="Pantosec">Pantosec</option>
  <option value="Paracetamol Brands">Paracetamol Brands</option>
  <option value="Paracip">Paracip</option>
  <option value="Patanjali Brands">Patanjali Brands</option>
  <option value="Pediaglu">Pediaglu</option>
  <option value="Pedialipex">Pedialipex</option>
  <option value="Pediamed">Pediamed</option>
  <option value="Pediamedex">Pediamedex</option>
  <option value="Pediamyoix">Pediamyoix</option>
  <option value="Pediapedix">Pediapedix</option>
  <option value="Pediasure">Pediasure</option>
  <option value="Pediasure Advance">Pediasure Advance</option>
  <option value="Pediatheo">Pediatheo</option>
  <option value="Pegaptanib">Pegaptanib</option>
  <option value="Pentasa">Pentasa</option>
  <option value="Pepcid">Pepcid</option>
  <option value="Perindopril">Perindopril</option>
  <option value="Perinorm">Perinorm</option>
  <option value="Perphenazine">Perphenazine</option>
  <option value="Pexep">Pexep</option>
  <option value="Pfizer Brands">Pfizer Brands</option>
  <option value="Pharmgasex">Pharmgasex</option>
  <option value="Pharmmaxa">Pharmmaxa</option>
  <option value="Pharmmaxon">Pharmmaxon</option>
  <option value="Pharmneuix">Pharmneuix</option>
  <option value="Pharmnovix">Pharmnovix</option>
  <option value="Pharmpedol">Pharmpedol</option>
  <option value="Pharmtheex">Pharmtheex</option>
  <option value="Phenobarbitone">Phenobarbitone</option>
  <option value="Phenytoin">Phenytoin</option>
  <option value="Phexin">Phexin</option>
  <option value="Pholcodine">Pholcodine</option>
  <option value="Pilocaine">Pilocaine</option>
  <option value="Pilocar">Pilocar</option>
  <option value="Pilocarpine">Pilocarpine</option>
  <option value="Pimecrolimus Cream">Pimecrolimus Cream</option>
  <option value="Pioglitazone">Pioglitazone</option>
  <option value="Piriton">Piriton</option>
  <option value="Plan B">Plan B</option>
  <option value="Plaquenil">Plaquenil</option>
  <option value="Plavix">Plavix</option>
  <option value="Pluscliix">Pluscliix</option>
  <option value="Pluspluol">Pluspluol</option>
  <option value="Plusreson">Plusreson</option>
  <option value="Plusvitol">Plusvitol</option>
  <option value="Pneumococcal Vaccine">Pneumococcal Vaccine</option>
  <option value="Pneumovax">Pneumovax</option>
  <option value="Polymyxin">Polymyxin</option>
  <option value="Posaconazole">Posaconazole</option>
  <option value="Postinor">Postinor</option>
  <option value="Povidone">Povidone</option>
  <option value="Pradaxa">Pradaxa</option>
  <option value="Pramipexole">Pramipexole</option>
  <option value="Prasugrel">Prasugrel</option>
  <option value="Praziquantel">Praziquantel</option>
  <option value="Premarin">Premarin</option>
  <option value="Prevacid">Prevacid</option>
  <option value="Prevnar">Prevnar</option>
  <option value="Primaquine">Primaquine</option>
  <option value="Proant">Proant</option>
  <option value="Probenecid">Probenecid</option>
  <option value="Procura">Procura</option>
  <option value="Procurex">Procurex</option>
  <option value="Proderin">Proderin</option>
  <option value="Progaso">Progaso</option>
  <option value="Prograf">Prograf</option>
  <option value="Prolomet">Prolomet</option>
  <option value="Pronexo">Pronexo</option>
  <option value="Propecia">Propecia</option>
  <option value="Prophaast">Prophaast</option>
  <option value="Propylthiouracil">Propylthiouracil</option>
  <option value="Proresix">Proresix</option>
  <option value="Prorexo">Prorexo</option>
  <option value="Protein Powders">Protein Powders</option>
  <option value="Protera">Protera</option>
  <option value="Protopic">Protopic</option>
  <option value="Provigil">Provigil</option>
  <option value="Provirex">Provirex</option>
  <option value="Proxyvon">Proxyvon</option>
  <option value="Psyllium Husk">Psyllium Husk</option>
  <option value="Pulmicort">Pulmicort</option>
  <option value="Pyrantel">Pyrantel</option>
  <option value="Quetiapine">Quetiapine</option>
  <option value="Rabemac">Rabemac</option>
  <option value="Rabicip">Rabicip</option>
  <option value="Rabies Vaccine">Rabies Vaccine</option>
  <option value="Rabium">Rabium</option>
  <option value="Raloxifene">Raloxifene</option>
  <option value="Raltegravir">Raltegravir</option>
  <option value="Ramelteon">Ramelteon</option>
  <option value="Ramipril">Ramipril</option>
  <option value="Ranbaxy Brands">Ranbaxy Brands</option>
  <option value="Ranibizumab">Ranibizumab</option>
  <option value="Rantac">Rantac</option>
  <option value="Rapamune">Rapamune</option>
  <option value="Rasagiline">Rasagiline</option>
  <option value="Razadyne">Razadyne</option>
  <option value="Razo">Razo</option>
  <option value="Refresh Plus">Refresh Plus</option>
  <option value="Refresh Tears">Refresh Tears</option>
  <option value="Regaine">Regaine</option>
  <option value="Remdesivir">Remdesivir</option>
  <option value="Remicade">Remicade</option>
  <option value="Repace">Repace</option>
  <option value="Requip">Requip</option>
  <option value="Respcarast">Respcarast</option>
  <option value="Respgasex">Respgasex</option>
  <option value="Resphea">Resphea</option>
  <option value="Respheaon">Respheaon</option>
  <option value="Respmycol">Respmycol</option>
  <option value="Respmyo">Respmyo</option>
  <option value="Respneoon">Respneoon</option>
  <option value="Respnexol">Respnexol</option>
  <option value="Respphao">Respphao</option>
  <option value="Resppluex">Resppluex</option>
  <option value="Respzynol">Respzynol</option>
  <option value="Restyl">Restyl</option>
  <option value="Retino-A">Retino-A</option>
  <option value="Revital">Revital</option>
  <option value="Rexlifex">Rexlifex</option>
  <option value="Rexneua">Rexneua</option>
  <option value="Rexotoa">Rexotoa</option>
  <option value="Rexplu">Rexplu</option>
  <option value="Rexpluon">Rexpluon</option>
  <option value="Rexproa">Rexproa</option>
  <option value="Rexproix">Rexproix</option>
  <option value="Rexreson">Rexreson</option>
  <option value="Rextheix">Rextheix</option>
  <option value="Rextheon">Rextheon</option>
  <option value="Ribavirin">Ribavirin</option>
  <option value="Rifaximin">Rifaximin</option>
  <option value="Rilutek">Rilutek</option>
  <option value="Riluzole">Riluzole</option>
  <option value="Risperdal">Risperdal</option>
  <option value="Risperidone">Risperidone</option>
  <option value="Ritalin">Ritalin</option>
  <option value="Ritonavir">Ritonavir</option>
  <option value="Rituxan">Rituxan</option>
  <option value="Rituximab">Rituximab</option>
  <option value="Rivaroxaban">Rivaroxaban</option>
  <option value="Rivastigmine">Rivastigmine</option>
  <option value="Rogaine">Rogaine</option>
  <option value="Ropinirole">Ropinirole</option>
  <option value="Rosiglitazone">Rosiglitazone</option>
  <option value="Rosu">Rosu</option>
  <option value="Rosuless">Rosuless</option>
  <option value="Rosuvas">Rosuvas</option>
  <option value="Rosuvastatin Combos">Rosuvastatin Combos</option>
  <option value="Roxid">Roxid</option>
  <option value="Rozat">Rozat</option>
  <option value="Rozavel">Rozavel</option>
  <option value="Rozavel F">Rozavel F</option>
  <option value="Rozerem">Rozerem</option>
  <option value="Rozucor">Rozucor</option>
  <option value="Rubella Vaccine">Rubella Vaccine</option>
  <option value="SGLT2 Combo Drugs">SGLT2 Combo Drugs</option>
  <option value="SGLT2 Inhibitors">SGLT2 Inhibitors</option>
  <option value="Sacubitril Valsartan">Sacubitril Valsartan</option>
  <option value="Safinamide">Safinamide</option>
  <option value="Salbutamol">Salbutamol</option>
  <option value="Salmeterol">Salmeterol</option>
  <option value="Sanofi Brands">Sanofi Brands</option>
  <option value="Savlon">Savlon</option>
  <option value="Savlon Antiseptic">Savlon Antiseptic</option>
  <option value="Saxagliptin">Saxagliptin</option>
  <option value="Scalpe">Scalpe</option>
  <option value="Scalpe Shampoo">Scalpe Shampoo</option>
  <option value="Schwabe India">Schwabe India</option>
  <option value="Schwabe Pharma">Schwabe Pharma</option>
  <option value="Sebamed">Sebamed</option>
  <option value="Seebri">Seebri</option>
  <option value="Selegiline">Selegiline</option>
  <option value="Seloken">Seloken</option>
  <option value="Selsun">Selsun</option>
  <option value="Selsun Blue">Selsun Blue</option>
  <option value="Senna">Senna</option>
  <option value="Senokot">Senokot</option>
  <option value="Seretide">Seretide</option>
  <option value="Serevent">Serevent</option>
  <option value="Serlift">Serlift</option>
  <option value="Seroquel">Seroquel</option>
  <option value="Shelcal">Shelcal</option>
  <option value="Sinarest">Sinarest</option>
  <option value="Sinemet">Sinemet</option>
  <option value="Singulair">Singulair</option>
  <option value="Sirdalud">Sirdalud</option>
  <option value="Sirolimus">Sirolimus</option>
  <option value="Sitagliptin">Sitagliptin</option>
  <option value="Sizodon">Sizodon</option>
  <option value="Skinlite">Skinlite</option>
  <option value="Smoking Cessation">Smoking Cessation</option>
  <option value="Sofosbuvir">Sofosbuvir</option>
  <option value="Sofosbuvir+Velpatasvir">Sofosbuvir+Velpatasvir</option>
  <option value="Soframycin">Soframycin</option>
  <option value="Somac">Somac</option>
  <option value="Sorafenib">Sorafenib</option>
  <option value="Spinraza">Spinraza</option>
  <option value="Spiriva">Spiriva</option>
  <option value="Spiroton">Spiroton</option>
  <option value="Spraygel">Spraygel</option>
  <option value="Stalevo">Stalevo</option>
  <option value="Stalopam">Stalopam</option>
  <option value="Stamlo">Stamlo</option>
  <option value="Stanozolol">Stanozolol</option>
  <option value="Starpress">Starpress</option>
  <option value="Statin Combos">Statin Combos</option>
  <option value="Stavudine">Stavudine</option>
  <option value="Stilnox">Stilnox</option>
  <option value="Storvas">Storvas</option>
  <option value="Storvas EZ">Storvas EZ</option>
  <option value="Strattera">Strattera</option>
  <option value="Stribild">Stribild</option>
  <option value="Sucralfate">Sucralfate</option>
  <option value="Sulfasalazine">Sulfasalazine</option>
  <option value="Sulphasalazine">Sulphasalazine</option>
  <option value="Sumo">Sumo</option>
  <option value="Sun Pharma Brands">Sun Pharma Brands</option>
  <option value="Supacef">Supacef</option>
  <option value="Supradyn">Supradyn</option>
  <option value="Suprax">Suprax</option>
  <option value="Surfaz">Surfaz</option>
  <option value="Sustanon">Sustanon</option>
  <option value="Sutent">Sutent</option>
  <option value="Symbicort">Symbicort</option>
  <option value="Syndopa">Syndopa</option>
  <option value="Systane">Systane</option>
  <option value="Tacrolimus">Tacrolimus</option>
  <option value="Tacrolimus Ointment">Tacrolimus Ointment</option>
  <option value="Tamoxifen">Tamoxifen</option>
  <option value="Tapazole">Tapazole</option>
  <option value="Tapentadol">Tapentadol</option>
  <option value="Tarivid">Tarivid</option>
  <option value="Tavanic">Tavanic</option>
  <option value="Taxim">Taxim</option>
  <option value="Taxol">Taxol</option>
  <option value="Tazloc">Tazloc</option>
  <option value="Td">Td</option>
  <option value="Tdap">Tdap</option>
  <option value="Tears Naturale">Tears Naturale</option>
  <option value="Tears Plus">Tears Plus</option>
  <option value="Tegretol">Tegretol</option>
  <option value="Teicoplanin">Teicoplanin</option>
  <option value="Teldor">Teldor</option>
  <option value="Telekast">Telekast</option>
  <option value="Telfast">Telfast</option>
  <option value="Telma">Telma</option>
  <option value="Telmisat">Telmisat</option>
  <option value="Temsirolimus">Temsirolimus</option>
  <option value="Teneligliptin">Teneligliptin</option>
  <option value="Tenofovir">Tenofovir</option>
  <option value="Terbinafine">Terbinafine</option>
  <option value="Terbinaforce">Terbinaforce</option>
  <option value="Testim">Testim</option>
  <option value="Testosterone">Testosterone</option>
  <option value="Tetracycline">Tetracycline</option>
  <option value="Therabioex">Therabioex</option>
  <option value="Theracarast">Theracarast</option>
  <option value="Theracurin">Theracurin</option>
  <option value="Theraheaix">Theraheaix</option>
  <option value="Theramaxon">Theramaxon</option>
  <option value="Theraotool">Theraotool</option>
  <option value="Therarexix">Therarexix</option>
  <option value="Therawelast">Therawelast</option>
  <option value="Thiocolchicoside">Thiocolchicoside</option>
  <option value="Thyronorm">Thyronorm</option>
  <option value="Thyroxine">Thyroxine</option>
  <option value="Ticagrelor">Ticagrelor</option>
  <option value="Ticlopidine">Ticlopidine</option>
  <option value="Tigecycline">Tigecycline</option>
  <option value="Timolol">Timolol</option>
  <option value="Tiotropium">Tiotropium</option>
  <option value="Tixylix">Tixylix</option>
  <option value="Tizanidine">Tizanidine</option>
  <option value="Toba Eye">Toba Eye</option>
  <option value="Tobramycin Eye Drops">Tobramycin Eye Drops</option>
  <option value="Tofacitinib">Tofacitinib</option>
  <option value="Tolcapone">Tolcapone</option>
  <option value="Tonact">Tonact</option>
  <option value="Tonact TG">Tonact TG</option>
  <option value="Topamax">Topamax</option>
  <option value="Topiramate">Topiramate</option>
  <option value="Toradol">Toradol</option>
  <option value="Torrent Brands">Torrent Brands</option>
  <option value="Trajenta">Trajenta</option>
  <option value="Tramadol">Tramadol</option>
  <option value="Tramafix">Tramafix</option>
  <option value="Trametinib">Trametinib</option>
  <option value="Travatan">Travatan</option>
  <option value="Travel Vaccines">Travel Vaccines</option>
  <option value="Tresiba">Tresiba</option>
  <option value="Tretinoin">Tretinoin</option>
  <option value="Tri-Luma">Tri-Luma</option>
  <option value="Triamcinolone">Triamcinolone</option>
  <option value="Trihexyphenidyl">Trihexyphenidyl</option>
  <option value="Trileptal">Trileptal</option>
  <option value="Trinicalm">Trinicalm</option>
  <option value="Triphala">Triphala</option>
  <option value="Tropicamide">Tropicamide</option>
  <option value="Truvada">Truvada</option>
  <option value="Tugain">Tugain</option>
  <option value="Tylenol">Tylenol</option>
  <option value="Typhoid Vaccine">Typhoid Vaccine</option>
  <option value="UDCA">UDCA</option>
  <option value="Uloric">Uloric</option>
  <option value="Ulpan">Ulpan</option>
  <option value="Ultibro">Ultibro</option>
  <option value="Ultracet">Ultracet</option>
  <option value="Ultram">Ultram</option>
  <option value="Ursodeoxycholic Acid">Ursodeoxycholic Acid</option>
  <option value="Ursodiol">Ursodiol</option>
  <option value="Vaccines">Vaccines</option>
  <option value="Valacyclovir">Valacyclovir</option>
  <option value="Valium">Valium</option>
  <option value="Valparin">Valparin</option>
  <option value="Valproate">Valproate</option>
  <option value="Valtrex">Valtrex</option>
  <option value="Vancomycin">Vancomycin</option>
  <option value="Varenicline">Varenicline</option>
  <option value="Varicella Vaccine">Varicella Vaccine</option>
  <option value="Vaxigrip">Vaxigrip</option>
  <option value="Velpatasvir">Velpatasvir</option>
  <option value="Vemlidy">Vemlidy</option>
  <option value="Vemurafenib">Vemurafenib</option>
  <option value="Ventolin">Ventolin</option>
  <option value="Ventorlin">Ventorlin</option>
  <option value="Verapamil">Verapamil</option>
  <option value="Versed">Versed</option>
  <option value="Vildagliptin">Vildagliptin</option>
  <option value="Viread">Viread</option>
  <option value="Virocarol">Virocarol</option>
  <option value="Viroinfol">Viroinfol</option>
  <option value="Vironeuo">Vironeuo</option>
  <option value="Virootoast">Virootoast</option>
  <option value="Viroviron">Viroviron</option>
  <option value="Vitabioex">Vitabioex</option>
  <option value="Vitaheaol">Vitaheaol</option>
  <option value="Vitalifin">Vitalifin</option>
  <option value="Vitameda">Vitameda</option>
  <option value="Vitamyoon">Vitamyoon</option>
  <option value="Vitaplua">Vitaplua</option>
  <option value="Vivelle-Dot">Vivelle-Dot</option>
  <option value="Voglibose">Voglibose</option>
  <option value="Volix">Volix</option>
  <option value="Vomex">Vomex</option>
  <option value="Vomista">Vomista</option>
  <option value="Vomitrol">Vomitrol</option>
  <option value="Voriconazole">Voriconazole</option>
  <option value="Votrient">Votrient</option>
  <option value="Voveran">Voveran</option>
  <option value="Vytorin">Vytorin</option>
  <option value="Vyvanse">Vyvanse</option>
  <option value="Wellneoo">Wellneoo</option>
  <option value="Wellnov">Wellnov</option>
  <option value="Wellophol">Wellophol</option>
  <option value="Whey Protein">Whey Protein</option>
  <option value="Winstrol">Winstrol</option>
  <option value="Xadago">Xadago</option>
  <option value="Xalatan">Xalatan</option>
  <option value="Xanax">Xanax</option>
  <option value="Xarelto">Xarelto</option>
  <option value="Xeljanz">Xeljanz</option>
  <option value="Xifaxan">Xifaxan</option>
  <option value="Xolair">Xolair</option>
  <option value="Xyzal">Xyzal</option>
  <option value="Yasmin">Yasmin</option>
  <option value="Yaz">Yaz</option>
  <option value="Yervoy">Yervoy</option>
  <option value="Zanamivir">Zanamivir</option>
  <option value="Zandu Brands">Zandu Brands</option>
  <option value="Zedex">Zedex</option>
  <option value="Zelboraf">Zelboraf</option>
  <option value="Zerodol">Zerodol</option>
  <option value="Zerodol P">Zerodol P</option>
  <option value="Zidovudine">Zidovudine</option>
  <option value="Zifi">Zifi</option>
  <option value="Zimnic">Zimnic</option>
  <option value="Zincovit">Zincovit</option>
  <option value="Zithrocin">Zithrocin</option>
  <option value="Zithromax">Zithromax</option>
  <option value="Zoetis">Zoetis</option>
  <option value="Zofran">Zofran</option>
  <option value="Zolfresh">Zolfresh</option>
  <option value="Zolgensma">Zolgensma</option>
  <option value="Zolpidem">Zolpidem</option>
  <option value="Zoryl">Zoryl</option>
  <option value="Zovirax">Zovirax</option>
  <option value="Zyban">Zyban</option>
  <option value="Zydus Brands">Zydus Brands</option>
  <option value="Zyflo">Zyflo</option>
  <option value="Zyloprim">Zyloprim</option>
  <option value="Zynallon">Zynallon</option>
  <option value="Zyncliix">Zyncliix</option>
  <option value="Zynheaex">Zynheaex</option>
  <option value="Zynotool">Zynotool</option>
  <option value="Zyprexa">Zyprexa</option>
  <option value="Zyrtec">Zyrtec</option></datalist>

<script>
  let medCounter = 0;
  const frequencyOptions = {
    "1日1回": ["朝のみ", "昼のみ", "夜のみ"],
    "1日2回": ["朝と夜", "朝と昼", "昼と夜"],
    "1日3回": ["朝昼夜"],
    "1日4回": ["朝昼晩夜"]
  };
  const medicineNames = new Set(["Dolo", "Azee", "Clavam"]);

  function updateMedicineList() {
    const datalist = document.getElementById("medicineList");
    datalist.innerHTML = "";
    medicineNames.forEach(name => {
      const opt = document.createElement("option");
      opt.value = name;
      datalist.appendChild(opt);
    });
  }

  function createMedicineRow(copyData = null) {
    medCounter++;
    const medDiv = document.createElement('div');
    medDiv.className = 'medication';

    medDiv.innerHTML = `
      <div class="medication-number">${medCounter}.</div>
      <div class="mb-2">
        <input type="text" class="form-control med-name" placeholder="薬の名前" list="medicineList">
      </div>
      <div class="mb-2 d-flex align-items-center gap-2">
        <div style="flex: 1;">
          <select class="form-control med-type">
            <option value="">薬の種類</option>
            <option>抗生剤</option><option>抗ウィルス剤</option><option>解熱鎮痛剤</option><option>痛み止め</option>
            <option>抗炎症剤</option><option>抗アレルギー剤</option><option>咳止め</option>
            <option>カルシウム用</option><option>鼻詰まり用</option><option>風邪用</option>
            <option>整腸剤</option><option>目薬</option><option>筋弛緩剤</option><option>高血圧症治療薬</option>
            <option>塗り薬</option><option>保湿剤</option><option>ローション</option><option>シャンプー</option>
            <option>糖尿病治療薬</option><option>ビタミン剤</option><option>点鼻薬</option><option>その他</option>
          </select>
          <input type="text" class="form-control med-type-other mt-2" placeholder="薬の種類を入力してください" style="display:none;">
        </div>
        <div class="form-check">
          <input class="form-check-input med-prn" type="checkbox">
          <label class="form-check-label">頓服用</label>
        </div>
      </div>

      <div class="mb-2">
        <select class="form-control med-form">
          <option value="">薬の形状を選択</option>
          <option value="tablet">錠剤</option>
          <option value="syrup">シロップ</option>
          <option value="drops">点眼/点耳</option>
          <option value="spray">スプレー</option>
          <option value="other">その他</option>
        </select>
      </div>

      <div class="mb-2 d-flex flex-wrap gap-2 align-items-center dose-line">
        <div id="dose-container" style="flex: 1 1 180px;"></div>
        <select class="form-control med-frequency frequency-select" style="flex: 1 1 130px;">
          <option value="">頻度</option>
          <option>1日1回</option><option>1日2回</option><option>1日3回</option><option>1日4回</option>
        </select>
        <select class="form-control med-time time-detail-select" disabled style="flex: 1 1 130px;">
          <option>服用タイミング</option>
        </select>
        <select class="form-control med-foodtiming" style="flex: 1 1 120px;">
          <option value="">食前/後</option><option>食前後いつでも</option><option>食前</option><option>食後</option>
        </select>
        <input type="number" class="form-control med-duration-num" min="1" inputmode="numeric" placeholder="日数" style="flex: 1 1 60px;">
        <select class="form-control med-duration-type" style="flex: 1 1 80px;">
          <option value="">期間</option><option value="日間">日間</option><option value="週間">週間</option><option value="ヶ月間">ヶ月間</option>
        </select>
      </div>

      <div class="mb-2">
        <label class="form-label">※</label>
        <select class="form-control med-note">
          <option value="">選択してください</option>
          <option>熱が37.5度以上がある場合だけお飲みください。続けて飲む場合は6時間程お空け下さい。</option>
          <option>患部のところにお使い下さい。</option>
          <option>体の痛みがある場合だけお飲みください。続けてむ場合は6時間程お空け下さい。</option>
          <option>患部の痛みがある場合だけお飲みください。続けてむ場合は6時間程お空け下さい。</option>
          <option>頭痛がある場合だけお飲みください。続けて飲む場合は6時間程お空け下さい。</option>
          <option>熱が37.5度以上や体の痛みや頭痛がある場合お飲みください。続けて飲む場合は6時間程お空け下さい。</option>
          <option>患部の痛みがある場合だけお飲みください。続けて飲む場合は6時間程お空け下さい。</option>
          <option>お水を混ぜて飲み始めてください。</option>
          <option>Suspension Syrup薬の作り方手順：数回たたいて粉末をほぐし、沸騰させて冷やした水を加え、線まで水を加えて、ボトルを閉める。　ボトルを閉めて良く振り、均一にする。</option>
          <option>患部の所だけにお塗りください。</option>
        </select>
      </div>

      <div class="mb-2"><textarea class="form-control med-memo" rows="2" placeholder="メモ"></textarea></div>
      <button class="btn btn-danger btn-sm btn-remove no-print">× 削除</button>
      <button class="btn btn-info btn-sm btn-duplicate no-print">コピー</button>
    `;

    document.getElementById('medications').appendChild(medDiv);

    const doseContainer = medDiv.querySelector('#dose-container');
    const formSelect = medDiv.querySelector('.med-form');
    const typeSelect = medDiv.querySelector('.med-type');
    const typeOtherInput = medDiv.querySelector('.med-type-other');
    const freqSelect = medDiv.querySelector('.frequency-select');
    const timeSelect = medDiv.querySelector('.time-detail-select');

    formSelect.addEventListener('change', () => updateDoseFields(formSelect, doseContainer));
    typeSelect.addEventListener('change', () => {
      if (typeSelect.value === "その他") {
        typeOtherInput.style.display = "block";
      } else {
        typeOtherInput.style.display = "none";
        typeOtherInput.value = "";
      }
    });

    freqSelect.addEventListener('change', () => {
      const options = frequencyOptions[freqSelect.value] || [];
      timeSelect.innerHTML = "";
      if (options.length) {
        timeSelect.disabled = false;
        options.forEach(opt => {
          const o = document.createElement('option');
          o.text = opt; timeSelect.add(o);
        });
      } else {
        timeSelect.disabled = true;
        timeSelect.innerHTML = "<option>服用タイミング</option>";
      }
    });

    medDiv.querySelector('.btn-remove').addEventListener('click', () => {
      medDiv.remove(); renumberMeds();
    });
    medDiv.querySelector('.btn-duplicate').addEventListener('click', () => duplicateMedicine(medDiv));

    if (copyData) {
      medDiv.querySelector('.med-name').value = copyData.name || "";
      medDiv.querySelector('.med-type').value = copyData.type || "";
      medDiv.querySelector('.med-type').dispatchEvent(new Event('change'));
      if (copyData.type === "その他") medDiv.querySelector('.med-type-other').value = copyData.typeOther || "";
      medDiv.querySelector('.med-prn').checked = !!copyData.prn;
      formSelect.value = copyData.form || "";
      formSelect.dispatchEvent(new Event('change'));
      const doseEl = medDiv.querySelector('.med-dose');
      if (doseEl) {
        doseEl.value = copyData.doseOther ?? copyData.dose ?? "";
      }
      const areaEl = medDiv.querySelector('.med-dose-area');
      if (areaEl) areaEl.value = copyData.area || "";
      medDiv.querySelector('.frequency-select').value = copyData.freq || "";
      medDiv.querySelector('.frequency-select').dispatchEvent(new Event('change'));
      medDiv.querySelector('.time-detail-select').value = copyData.time || "";
      medDiv.querySelector('.med-foodtiming').value = copyData.foodTiming || "";
      medDiv.querySelector('.med-duration-num').value = copyData.durationNum || "";
      medDiv.querySelector('.med-duration-type').value = copyData.durationType || "";
      medDiv.querySelector('.med-note').value = copyData.note || "";
      medDiv.querySelector('.med-memo').value = copyData.memo || "";
    }

    const medNameInput = medDiv.querySelector('.med-name');
    medNameInput.addEventListener("change", () => {
      const val = medNameInput.value.trim();
      if (val && !medicineNames.has(val)) {
        medicineNames.add(val); updateMedicineList();
      }
    });
  }

  function updateDoseFields(formSelect, doseContainer) {
    doseContainer.innerHTML = '';
    if (formSelect.value === 'tablet') {
      doseContainer.innerHTML = `<select class="form-control med-dose"><option value="">用量を選択</option><option>1回1錠</option><option>1回半錠</option></select>`;
    } else if (formSelect.value === 'syrup') {
      doseContainer.innerHTML = `<div class="input-group"><span class="input-group-text">1回</span><input type="number" class="form-control med-dose" placeholder="量" inputmode="numeric"><span class="input-group-text">ml</span></div>`;
    } else if (formSelect.value === 'drops' || formSelect.value === 'spray') {
      const label = formSelect.value === 'drops' ? 'ドロップ' : 'スプレー';
      doseContainer.innerHTML = `
        <div class="input-group mb-1">
          <span class="input-group-text">1回</span>
          <input type="number" class="form-control med-dose" placeholder="量" inputmode="numeric">
          <span class="input-group-text">${label}</span>
        </div>
        <select class="form-control med-dose-area">
          <option>両目</option><option>左目</option><option>右目</option>
          <option>両耳</option><option>左耳</option><option>右耳</option>
          <option>両鼻</option><option>左鼻</option><option>右鼻</option>
        </select>`;
    } else if (formSelect.value === 'other') {
      doseContainer.innerHTML = `<input type="text" class="form-control med-dose" placeholder="用量を入力してください">`;
    } else {
      doseContainer.innerHTML = '';
    }
  }

  function duplicateMedicine(medDiv) {
    const data = {
      name: medDiv.querySelector('.med-name').value,
      type: medDiv.querySelector('.med-type').value,
      typeOther: medDiv.querySelector('.med-type-other')?.value || "",
      prn: medDiv.querySelector('.med-prn').checked,
      form: medDiv.querySelector('.med-form').value,
      dose: medDiv.querySelector('.med-dose')?.value || "",
      doseOther: medDiv.querySelector('.med-dose')?.value || "",
      area: medDiv.querySelector('.med-dose-area')?.value || "",
      freq: medDiv.querySelector('.frequency-select').value,
      time: medDiv.querySelector('.time-detail-select').value,
      foodTiming: medDiv.querySelector('.med-foodtiming').value,
      durationNum: medDiv.querySelector('.med-duration-num').value,
      durationType: medDiv.querySelector('.med-duration-type').value,
      note: medDiv.querySelector('.med-note').value,
      memo: medDiv.querySelector('.med-memo').value
    };
    createMedicineRow(data);
  }

  function renumberMeds() {
    const numbers = document.querySelectorAll('.medication-number');
    numbers.forEach((el, i) => el.textContent = (i + 1) + '.');
    medCounter = numbers.length;
  }

  function validateMeds() {
    let allValid = true;
    document.querySelectorAll('.medication').forEach(med => {
      med.classList.remove('incomplete');
      const prn = med.querySelector('.med-prn')?.checked;
      const nameVal = med.querySelector('.med-name')?.value.trim();
      if (!nameVal) { med.classList.add('incomplete'); allValid = false; return; }
      if (prn) return;
    });
    return allValid;
  }

  function buildText() {
    let text = "処方されたお薬の飲み方・使い方\n\n";
    document.querySelectorAll('.medication').forEach((med, idx) => {
      const name = med.querySelector('.med-name').value.trim();
      if (!name) return;

      let type = med.querySelector('.med-type').value.trim();
      const typeOtherEl = med.querySelector('.med-type-other');
      const typeOther = typeOtherEl ? typeOtherEl.value.trim() : "";
      if (type === "その他" && typeOther) {
        type = typeOther;
      }

      const prn = med.querySelector('.med-prn').checked;
      const formVal = med.querySelector('.med-form').value;
      let dose = "";
      let area = med.querySelector('.med-dose-area')?.value.trim() || "";

      if (formVal === "syrup") {
        const val = med.querySelector('.med-dose')?.value.trim();
        if (val) dose = `1回${val}ml`;
      } else if (formVal === "drops") {
        const val = med.querySelector('.med-dose')?.value.trim();
        if (val) dose = `1回${val}ドロップ`;
      } else if (formVal === "spray") {
        const val = med.querySelector('.med-dose')?.value.trim();
        if (val) dose = `1回${val}スプレー`;
      } else {
        dose = med.querySelector('.med-dose')?.value.trim() || "";
      }

      if (dose && area) dose = `${dose}・${area}`;

      const freq = med.querySelector('.frequency-select').value.trim();
      const time = med.querySelector('.time-detail-select').value.trim();
      const food = med.querySelector('.med-foodtiming').value.trim();
      const durN = med.querySelector('.med-duration-num').value.trim();
      const durT = med.querySelector('.med-duration-type').value.trim();
      const note = med.querySelector('.med-note').value.trim();
      const memo = med.querySelector('.med-memo').value.trim();

      text += `${idx + 1}. ${name}\n`;
      if (type) text += `${type}\n`;

      if (prn) {
        text += "※ 頓服用（必要時のみ服用）\n";
        if (dose) text += `${dose}\n`;
      } else {
        const parts = [];
        if (dose) parts.push(dose);
        if (freq) parts.push(freq);
        if (time && time !== "服用タイミング") parts.push(time);
        if (food) parts.push(food);
        if (durN && durT) parts.push(durN + durT);
        if (parts.length) text += parts.join("・") + "\n";
      }

      if (note) text += "※ " + note + "\n";
      if (memo) text += "メモ: " + memo + "\n";
      text += "\n";
    });
    return text.trim();
  }

  // ✅ Copy with mobile fallback
  function copyText() {
    if (!validateMeds()) { alert("必須入力があります"); return; }
    const text = buildText() + "\n\nご確認よろしくお願いいたします。";
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text).then(() => alert("コピーしました！")).catch(() => fallbackCopy(text));
    } else {
      fallbackCopy(text);
    }
  }
  function fallbackCopy(text) {
    const textarea = document.createElement("textarea");
    textarea.value = text;
    textarea.style.position = "fixed";
    textarea.style.opacity = "0";
    document.body.appendChild(textarea);
    textarea.focus();
    textarea.select();
    try {
      document.execCommand("copy");
      alert("コピーしました！");
    } catch (err) {
      alert("コピーに失敗しました。手動でコピーしてください。");
    }
    document.body.removeChild(textarea);
  }

  // ✅ Print (works on mobile too)
  document.getElementById("printBtn").addEventListener("click", () => {
    if (!validateMeds()) return alert("必須入力があります");
    const text = buildText() + "\n\nご確認よろしくお願いいたします。";
    const htmlText = text.replace(/\n/g, "<br>");
    const printWindow = window.open("", "", "height=600,width=800");
    printWindow.document.write(`
      <html><head><title>処方されたお薬の飲み方・使い方</title>
      <style>body { font-family: 'Noto Sans JP', sans-serif; white-space: pre-wrap; }</style>
      </head><body>${htmlText}</body></html>`);
    printWindow.document.close();
    printWindow.focus();
    printWindow.print();
  });

// --- Save as PDF (mobile & desktop safe, with footer) ---
document.getElementById("pdfBtn").addEventListener("click", () => {
  if (!validateMeds()) return alert("必須入力があります");

  const text = buildText();

  // Build wrapper
  const wrapper = document.createElement("div");
  wrapper.style.fontFamily = "'Noto Sans JP', sans-serif";
  wrapper.style.width = "100%";
  wrapper.style.padding = "20px";   // ensure footer not cut off
  wrapper.style.boxSizing = "border-box";

  // Main text
  const mainDiv = document.createElement("div");
  mainDiv.innerHTML = text.replace(/\n/g, "<br>");
  wrapper.appendChild(mainDiv);

  // ✅ Footer (separate block, normal weight)
  const footer = document.createElement("div");
  footer.style.marginTop = "30px";
  footer.textContent = "ご確認よろしくお願いいたします。";
  wrapper.appendChild(footer);

  // Filename with date
  const today = new Date().toISOString().split("T")[0];

  // Generate PDF
  html2pdf().set({
    margin: 10,
    filename: "prescription_" + today + ".pdf",
    html2canvas: { scale: 2, useCORS: true, logging: false },
    jsPDF: { unit: "mm", format: "a4", orientation: "portrait" }
  }).from(wrapper).save();
});

  // Event bindings
  document.getElementById('copyBtn').addEventListener('click', copyText);
  document.getElementById('addMed').addEventListener('click', () => createMedicineRow());

  // init
  createMedicineRow();
</script>

</body>
</html>

